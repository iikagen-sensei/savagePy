/* ═══════════════════════════════════════════════════════
   Savage Worlds Generador · UI Shared Styles
   Usado por: index.html, characters.html, character_form.html
   NO usar en plantillas de documentos (WeasyPrint necesita CSS embebido)
═══════════════════════════════════════════════════════ */

:root {
  --bg:     #f8f8f6;
  --bg2:    #f0f0ee;
  --ink:    #111110;
  --ink2:   #2a2a28;
  --red:    #8b2010;
  --red2:   #6a1808;
  --border: #d8d8d4;
  --muted:  #888880;
}

* { margin:0; padding:0; box-sizing:border-box; }
body { background:var(--bg); color:var(--ink); font-family:'EB Garamond',Georgia,serif; min-height:100vh; display:flex; flex-direction:column; }

/* center only the main content areas, not the header/footer */
.sw-main, .layout { width:min(95vw,1400px); margin:0 auto; padding:2.5rem 2rem; }

/* make nav links occupy entire header height for bigger hit area */
.sw-nav a { align-self:stretch; height:100%; }


header { background:var(--ink); padding:0 3rem; display:flex; align-items:stretch; justify-content:space-between; height:56px; border-bottom:3px solid var(--red); position:sticky; top:0; z-index:50; }
.header-right { display:flex; align-items:center; gap:1rem; height:100%; }
.logo { display:flex; align-items:center; gap:0.8rem; text-decoration:none; }
.logo-mark { width:2rem; height:2rem; display:flex; align-items:center; justify-content:center; transform:translateY(-0.15rem); }
.logo-mark::before { content:"♠"; font-size:2.4rem; color:var(--red); transform: translateY(-0.20rem);}
/* alternate logos can still be applied via background-image if needed */
.logo-name { font-family:'Cinzel',serif; font-size:0.95rem; font-weight:700; color:#fff; letter-spacing:0.06em; }
.logo-name span { color:#555; font-weight:400; font-size:0.82rem; }
.sw-nav { display:flex; align-items:stretch; flex-shrink:0; flex:1; justify-content:center; height:100%; }

/* make each nav link fill available space if desired */
.sw-nav a { flex:1; }

.sw-nav a { display:flex; align-items:center; justify-content:center; padding:0 1.4rem; font-family:'Rajdhani',sans-serif; font-size:0.75rem; font-weight:600; letter-spacing:0.15em; text-transform:uppercase; color:#555; text-decoration:none; border-left:1px solid rgba(255,255,255,0.07); transition:color 0.15s; height:100%; }

.sw-nav a:hover { color:#fff; }
.sw-nav a.active { color:#fff; border-bottom:2px solid var(--red); }
.header-status { display:flex; align-items:center; gap:0.5rem; padding:0 1.4rem; border-left:1px solid rgba(255,255,255,0.07); font-family:'Rajdhani',sans-serif; font-size:0.72rem; color:#555; margin-right:1rem; white-space:nowrap; }
.dot { width:6px; height:6px; border-radius:50%; background:#555; transition:background 0.3s; }
.dot.online { background:#4a8a4a; box-shadow:0 0 5px rgba(74,138,74,0.5); }
.dot.offline { background:var(--red); }

.hero { padding:4rem 3rem 3.5rem; border-bottom:1px solid var(--border); background:var(--ink2) url('/static/background.jpg') center top/cover no-repeat; position:relative; }
.hero::before { content:''; position:absolute; inset:0; background:linear-gradient(to right, rgba(17,17,16,0.92) 50%, rgba(17,17,16,0.5)); pointer-events:none; }
.hero-inner { position:relative; z-index:1; }
.hero-eyebrow { font-family:'Rajdhani',sans-serif; font-size:0.68rem; font-weight:600; letter-spacing:0.3em; text-transform:uppercase; color:var(--red); margin-bottom:0.7rem; }
.hero h1 { font-family:'EB Garamond',serif; font-size:clamp(2.4rem,4vw,3.4rem); font-weight:400; color:#f5f5f3; line-height:1.15; }
.hero h1 strong { font-weight:600; color:#fff; }

.stats-strip { background:var(--bg2); border-bottom:1px solid var(--border); display:flex; padding:0 3rem; flex-wrap:wrap; }
.stat-item { padding:0.85rem 2rem 0.85rem 0; margin-right:2rem; border-right:1px solid var(--border); display:flex; align-items:baseline; gap:0.5rem; }
.stat-item:last-child { border-right:none; }

/* status box in stats strip – keep appearance subtle */
.db-status { padding-right:0; margin-right:0; border-right:none; margin-left:auto; }
.db-status .dot { margin-right:0.5rem; }
.stat-n { font-family:'Cinzel',serif; font-size:1.5rem; font-weight:700; color:var(--red); line-height:1; }
.stat-n.loading { font-size:1rem; color:var(--border); animation:pulse 1.2s infinite; }
.stat-l { font-family:'Rajdhani',sans-serif; font-size:0.7rem; font-weight:600; letter-spacing:0.1em; text-transform:uppercase; color:var(--muted); }

.sw-main { max-width: 860px; margin: 0 auto; padding: 2.5rem 2rem; }

.btn { font-family:'Rajdhani',sans-serif; font-size:0.78rem; font-weight:700; letter-spacing:0.1em; text-transform:uppercase; padding:0.45rem 1rem; border:1px solid; cursor:pointer; background:transparent; display:inline-flex; align-items:center; gap:0.3rem; transition:all 0.15s; white-space:nowrap; text-decoration:none; }
.btn-outline { color:var(--ink2); border-color:var(--border); }
.btn-outline:hover { background:var(--ink); color:#fff; border-color:var(--ink); }
.btn-red { color:var(--red); border-color:var(--red); }
.btn-red:hover { background:var(--red); color:#fff; }
.btn-solid { background:var(--red); color:#fff; border-color:var(--red); }
.btn-solid:hover { background:var(--red2); border-color:var(--red2); }
.btn-ghost { color:#aaa; border-color:#444; }
.btn-ghost:hover { color:#fff; border-color:#888; }

.overlay { display:none; position:fixed; inset:0; background:rgba(248,248,246,0.92); z-index:100; align-items:center; justify-content:center; flex-direction:column; gap:1rem; }
.overlay.active { display:flex; }
.spinner { width:32px; height:32px; border:2px solid var(--border); border-top-color:var(--red); border-radius:50%; animation:spin 0.7s linear infinite; }
.overlay-text { font-family:'Cinzel',serif; font-size:0.82rem; color:var(--muted); letter-spacing:0.15em; }
.toast { position:fixed; bottom:1.5rem; right:1.5rem; background:var(--ink); border-left:3px solid var(--red); padding:0.7rem 1.2rem; font-family:'Rajdhani',sans-serif; font-size:0.82rem; color:#fff; opacity:0; transform:translateY(8px); transition:opacity 0.2s,transform 0.2s; pointer-events:none; z-index:200; }
.toast.show { opacity:1; transform:translateY(0); }
footer { border-top:1px solid var(--border); padding:0.8rem 3rem; font-family:'Rajdhani',sans-serif; font-size:0.68rem; color:var(--muted); letter-spacing:0.1em; text-transform:uppercase; margin-top:auto; }

/* HEADER HELPERS */
.header-right { display:flex; align-items:center; gap:1rem; }

/* INDEX */
.doc-section { margin-bottom:2.5rem; padding-bottom:2.5rem; border-bottom:1px solid var(--border); }
.doc-section:last-child { border-bottom:none; margin-bottom:0; }
.section-head { display:flex; align-items:center; gap:0.8rem; margin-bottom:1.2rem; padding-bottom:0.8rem; border-bottom:2px solid var(--ink); }
.section-icon { font-size:1.2rem; opacity:0.5; }
.section-name { font-family:'Cinzel',serif; font-size:1.6rem; font-weight:700; color:var(--ink); letter-spacing:0.03em; }
.section-desc { font-size:1rem; color:var(--muted); font-style:italic; margin-left:auto; }
.view-row { display:flex; align-items:center; gap:0.8rem; margin-bottom:1rem; }
.view-label { font-family:'Rajdhani',sans-serif; font-size:0.78rem; font-weight:600; letter-spacing:0.15em; text-transform:uppercase; color:var(--muted); flex-shrink:0; }
.view-select { background:#fff; border:1px solid var(--border); color:var(--ink); font-family:'EB Garamond',serif; font-size:1.05rem; padding:0.4rem 2rem 0.4rem 0.7rem; appearance:none; background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6'%3E%3Cpath d='M0 0l5 6 5-6z' fill='%23888'/%3E%3C/svg%3E"); background-repeat:no-repeat; background-position:right 0.6rem center; cursor:pointer; min-width:200px; }
.view-select:focus { outline:2px solid var(--red); outline-offset:-2px; }
.view-loading { font-family:'Rajdhani',sans-serif; font-size:0.85rem; color:var(--muted); animation:pulse 1.2s infinite; }
.view-error { font-family:'Rajdhani',sans-serif; font-size:0.85rem; color:var(--red); }
.docs-list { display:flex; flex-direction:column; }
.doc-row { display:flex; align-items:center; padding:1rem 0; border-bottom:1px solid var(--border); gap:1rem; }
.doc-row:last-child { border-bottom:none; }
.doc-icon-wrap { width:36px; height:36px; background:var(--bg2); border:1px solid var(--border); display:flex; align-items:center; justify-content:center; font-size:1rem; flex-shrink:0; }
.doc-info { flex:1; }
.doc-name { font-family:'EB Garamond',serif; font-size:1.25rem; font-weight:500; color:var(--ink); }
.doc-desc { font-size:0.95rem; color:var(--muted); font-style:italic; }
.doc-actions { display:flex; gap:0.3rem; flex-shrink:0; }

/* CHARACTERS */
.list-head { display:flex; justify-content:space-between; align-items:center; margin-bottom:2rem; padding-bottom:1rem; border-bottom:2px solid var(--ink); }

/* form sections (character form) */
.section-header { margin-bottom:0.6rem; padding-left:0.6rem; border-left:4px solid var(--red); cursor:pointer; display:flex; justify-content:space-between; align-items:center; }
.section-header:hover { background:#e8e8e6; }
.section-header::after { content:'▾'; font-size:0.8rem; transition:transform 0.2s; margin-left:0.5rem; }
.section-header .section-title { font-family:'Cinzel',serif; font-size:1.1rem; font-weight:700; color:var(--ink); }
.section.collapsed .section-body { display:none; }
.section.collapsed .section-header::after { transform:rotate(-90deg); }
.list-head-title { font-family:'Cinzel',serif; font-size:1.3rem; font-weight:700; }
.chars-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(190px,1fr)); gap:1.5rem; }
.char-card { background:#fff; border:1px solid var(--border); display:flex; flex-direction:column; }
.char-card.wildcard { border-color:var(--red); border-width:2px; }
.char-card-img { aspect-ratio:2/3; background:#fff; overflow:hidden; position:relative; }
.char-card-img img { width:100%; height:100%; object-fit:contain; background:#fff; }
.char-card-placeholder { width:100%; height:100%; display:flex; align-items:center; justify-content:center; font-size:3.5rem; background:linear-gradient(160deg,var(--ink2) 0%,var(--ink) 100%); opacity:0.25; }
.char-card-overlay { position:absolute; bottom:0; left:0; right:0; background:linear-gradient(transparent,rgba(0,0,0,0.75)); padding:1.5rem 0.8rem 0.7rem; }
.char-card-name { font-family:'Cinzel',serif; font-size:1rem; font-weight:700; color:#fff; line-height:1.1; }
.char-card-rank { font-family:'Rajdhani',sans-serif; font-size:0.62rem; font-weight:600; letter-spacing:0.12em; text-transform:uppercase; color:var(--red); margin-top:0.2rem; }
.char-card-body { padding:0.7rem; border-top:1px solid var(--border); }
.char-card-concept { font-size:0.9rem; color:var(--muted); font-style:italic; margin-bottom:0.7rem; line-height:1.3; min-height:2.4em; }
.char-card-actions { display:flex; gap:0.3rem; }
.char-card-actions .btn { flex:1; justify-content:center; font-size:0.72rem; padding:0.4rem 0.5rem; }
.char-card-actions .btn-del { flex:0; padding:0.4rem 0.6rem; }

/* FORM */
.save-bar { background:var(--ink2); border-bottom:1px solid #333; padding:0.55rem 3rem; display:flex; align-items:center; justify-content:space-between; }
.save-bar-title { font-family:'Cinzel',serif; font-size:0.85rem; color:#aaa; letter-spacing:0.05em; }
.save-bar-actions { display:flex; gap:0.5rem; }
.form-layout { display:grid; grid-template-columns:1fr minmax(240px,280px); gap:1.5rem; width:min(95vw,1100px); margin:0 auto; padding:2rem; }
.form-sections { display:flex; flex-direction:column; gap:1.2rem; }
.form-section { background:#fff; border:1px solid var(--border); }
.form-section-head { padding:0.6rem 1rem; border-bottom:1px solid var(--border); background:var(--bg2); font-family:'Cinzel',serif; font-size:0.72rem; font-weight:600; color:var(--ink); letter-spacing:0.15em; text-transform:uppercase; }
.form-section-body { padding:1rem; }
.form-sidebar { position:sticky; top:114px; height:fit-content; display:flex; flex-direction:column; gap:1rem; }
.sidebar-panel { background:#fff; border:1px solid var(--border); }
.sidebar-panel-head { padding:0.6rem 1rem; border-bottom:1px solid var(--border); background:var(--bg2); font-family:'Cinzel',serif; font-size:0.7rem; font-weight:600; color:var(--ink); letter-spacing:0.15em; text-transform:uppercase; }
.sidebar-panel-body { padding:1rem; }
.image-preview { width:100%; aspect-ratio:2/3; background:#fff; border:1px solid var(--border); display:flex; align-items:center; justify-content:center; overflow:hidden; margin-bottom:0.8rem; position:relative; }
.image-preview img { width:100%; height:100%; object-fit:contain; display:none; background:#fff; }
.image-placeholder { font-family:'Rajdhani',sans-serif; font-size:0.72rem; color:var(--muted); letter-spacing:0.1em; text-transform:uppercase; text-align:center; padding:1rem; }
.image-drop-zone { border:2px dashed var(--border); padding:0.8rem; text-align:center; cursor:pointer; transition:border-color 0.2s; }
.image-drop-zone:hover { border-color:var(--red); }
.image-drop-label { font-family:'Rajdhani',sans-serif; font-size:0.72rem; color:var(--muted); cursor:pointer; }
.desc-textarea { width:100%; min-height:180px; background:var(--bg); border:1px solid var(--border); color:var(--ink); font-family:'EB Garamond',serif; font-size:1rem; padding:0.6rem 0.7rem; resize:vertical; line-height:1.6; }
.desc-textarea:focus { outline:2px solid var(--red); outline-offset:-2px; }
.field-row { display:grid; gap:0.8rem; margin-bottom:0.8rem; }
.field-row:last-child { margin-bottom:0; }
.field-row.cols-1 { grid-template-columns:1fr; }
.field-row.cols-2 { grid-template-columns:1fr 1fr; }
.field-row.cols-3 { grid-template-columns:1fr 1fr 1fr; }

/* especial para fila de power trapping / puntos de poder */
.power-row { grid-template-columns:3fr 1fr; }
.power-row #powerTrapping { text-align:left; }
.field { display:flex; flex-direction:column; gap:0.3rem; }
label { font-family:'Rajdhani',sans-serif; font-size:0.68rem; font-weight:600; color:var(--muted); letter-spacing:0.12em; text-transform:uppercase; }
input[type="text"], textarea, select { background:var(--bg); border:1px solid var(--border); color:var(--ink); font-family:'EB Garamond',Georgia,serif; font-size:1rem; padding:0.45rem 0.65rem; width:100%; transition:border-color 0.15s; }
input[type="text"]:focus, textarea:focus, select:focus { outline:none; border-color:var(--red); }
textarea { resize:vertical; min-height:80px; line-height:1.5; }
select { appearance:none; background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6'%3E%3Cpath d='M0 0l5 6 5-6z' fill='%23888'/%3E%3C/svg%3E"); background-repeat:no-repeat; background-position:right 0.6rem center; padding-right:1.8rem; cursor:pointer; }
.attributes-grid { display:grid; grid-template-columns:repeat(5,1fr); gap:0.6rem; }
.attr-field { display:flex; flex-direction:column; align-items:center; gap:0.3rem; }
.attr-label { font-family:'Rajdhani',sans-serif; font-size:0.7rem; color:var(--muted); letter-spacing:0.1em; text-transform:uppercase; }
.attr-select { text-align:center; font-family:'Rajdhani',sans-serif; font-size:1.2rem; font-weight:700; color:var(--red); width:100%; padding:0.4rem 0.2rem; }
.skills-grid { display:grid; grid-template-columns:repeat(2,1fr); gap:0; }
.skill-row { display:grid; grid-template-columns:1fr 80px; gap:0.4rem; align-items:center; padding:0.35rem 0.4rem; border-bottom:1px solid var(--border); }
.skill-row:nth-child(odd) { background:var(--bg2); }
.skill-name { font-size:1rem; color:var(--ink); }
.skill-name.core { font-weight:600; color:var(--red); }
.skill-select { font-size:0.9rem; padding:0.2rem 0.4rem; }
.dynamic-list { display:flex; flex-direction:column; gap:0.4rem; }
.dynamic-row { display:flex; gap:0.4rem; align-items:flex-start; }
.dynamic-row .flex1 { flex:1; }
.dynamic-row .w120 { width:120px; flex-shrink:0; }
.dynamic-row .w80  { width:80px; flex-shrink:0; }
.dynamic-row .w-half { flex:1; }
.btn-remove { background:transparent; border:1px solid #ddd; color:var(--muted); font-family:'Rajdhani',sans-serif; font-size:0.75rem; padding:0.3rem 0.5rem; cursor:pointer; flex-shrink:0; transition:all 0.15s; }
.btn-remove:hover { border-color:var(--red); color:var(--red); }
.btn-add { background:transparent; border:1px dashed var(--border); color:var(--muted); font-family:'Rajdhani',sans-serif; font-size:0.72rem; font-weight:600; letter-spacing:0.08em; text-transform:uppercase; padding:0.4rem 0.8rem; cursor:pointer; margin-top:0.4rem; width:100%; transition:all 0.15s; }
.btn-add:hover { border-color:var(--red); color:var(--red); }
.advances-rank-block, .gear-rank-block { margin-bottom:1rem; }
.advances-rank-label, .gear-rank-label { font-family:'Rajdhani',sans-serif; font-size:0.68rem; font-weight:600; color:var(--muted); letter-spacing:0.15em; text-transform:uppercase; margin-bottom:0.4rem; padding-bottom:0.3rem; border-bottom:1px solid var(--border); }
.special-grid { display:grid; grid-template-columns:repeat(2,1fr); gap:0.6rem; }
.special-rank { display:flex; flex-direction:column; gap:0.3rem; }
.special-rank-label { font-family:'Rajdhani',sans-serif; font-size:0.68rem; font-weight:600; color:var(--muted); letter-spacing:0.1em; text-transform:uppercase; }
.special-rank textarea { min-height:60px; }

/* AUTOCOMPLETE con metadato */
.autocomplete-wrap { position:relative; }
.autocomplete-dropdown { position:absolute; top:100%; left:0; right:0; background:#fff; border:1px solid var(--border); border-top:none; z-index:100; max-height:260px; overflow-y:auto; display:none; box-shadow:0 4px 12px rgba(0,0,0,0.08); }
.ac-item { padding:0.5rem 0.7rem; cursor:pointer; border-bottom:1px solid var(--border); display:flex; align-items:baseline; justify-content:space-between; gap:0.5rem; }
.ac-item:last-child { border-bottom:none; }
.ac-item:hover { background:var(--bg2); }
.ac-item-name { font-family:'EB Garamond',serif; font-size:1rem; color:var(--ink); flex:1; }
.ac-item-meta { font-family:'Rajdhani',sans-serif; font-size:0.65rem; font-weight:600; letter-spacing:0.08em; text-transform:uppercase; color:var(--muted); white-space:nowrap; flex-shrink:0; }

/* MODAL */
.modal-bg { display:none; position:fixed; inset:0; background:rgba(17,17,16,0.6); z-index:200; align-items:center; justify-content:center; }
.modal-bg.active { display:flex; }
.modal { background:#fff; border:1px solid var(--border); border-top:3px solid var(--red); padding:2rem; max-width:380px; width:90%; }
.modal h3 { font-family:'Cinzel',serif; font-size:1.1rem; margin-bottom:0.5rem; }
.modal p { font-size:1rem; color:var(--muted); font-style:italic; margin-bottom:1.5rem; line-height:1.5; }
.modal-actions { display:flex; gap:0.5rem; justify-content:flex-end; }

/* LOADING OVERLAY */
.loading-overlay { position:fixed; inset:0; background:rgba(248,248,246,0.92); z-index:200; display:flex; align-items:center; justify-content:center; flex-direction:column; gap:1rem; }
.loading-txt { font-family:'Cinzel',serif; font-size:0.8rem; color:var(--muted); letter-spacing:0.15em; }


@keyframes pulse { 0%,100%{opacity:.3} 50%{opacity:1} }
@keyframes spin { to{transform:rotate(360deg)} }
